<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volunteer Registration - AP Police Women & Child Safety Wing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/chatbot.css">
    <style>
        body { font-family: Arial, sans-serif; margin: 0; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #20b2aa 100%); padding: 20px 60px; display: flex; align-items: center; justify-content: space-between; }
        .logo { width: 120px; height: 120px; background: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.2); font-weight: bold; font-size: 1.2em; color: #2c3e50; overflow: hidden; position: relative; }
        .logo img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
        .main-title { color: #fff; font-size: 2.5em; font-weight: bold; text-align: center; flex: 1; }
        .navbar { background: rgba(255,255,255,0.95); padding: 15px 60px; display: flex; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .nav-menu { display: flex; gap: 40px; font-size: 1.1em; }
        .nav-menu a { color: #2c3e50; text-decoration: none; font-weight: 600; padding: 10px 15px; border-radius: 5px; transition: all 0.3s; }
        .nav-menu a:hover, .nav-menu a.active { background: #3498db; color: #fff; }
        .content { max-width: 800px; margin: 40px auto; padding: 0 20px; }
        .page-title { font-size: 2.5em; color: #2c3e50; text-align: center; margin-bottom: 20px; }
        .breadcrumb { text-align: center; margin-bottom: 40px; color: #7f8c8d; }
        .breadcrumb a { color: #3498db; text-decoration: none; }
        
        .form-container { background: #fff; padding: 40px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .form-intro { text-align: center; margin-bottom: 40px; }
        .form-intro h2 { color: #2c3e50; margin-bottom: 15px; }
        .form-intro p { color: #7f8c8d; line-height: 1.6; }
        
        .form-group { margin-bottom: 25px; }
        .form-label { display: block; margin-bottom: 8px; color: #2c3e50; font-weight: 600; }
        .form-input { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; }
        .form-input:focus { outline: none; border-color: #3498db; }
        .form-textarea { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; min-height: 120px; resize: vertical; transition: border-color 0.3s; }
        .form-textarea:focus { outline: none; border-color: #3498db; }
        .form-select { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; }
        .form-select:focus { outline: none; border-color: #3498db; }
        
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        .submit-btn { background: linear-gradient(135deg, #27ae60, #229954); color: #fff; padding: 15px 40px; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: all 0.3s; width: 100%; }
        .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3); }
        
        .success-message { background: #d4edda; color: #155724; padding: 20px; border-radius: 8px; margin-bottom: 30px; text-align: center; border: 1px solid #c3e6cb; }
        .success-message i { font-size: 2em; margin-bottom: 10px; display: block; }
        
        .requirements { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #3498db; }
        .requirements h3 { color: #2c3e50; margin-bottom: 15px; }
        .requirements ul { color: #555; line-height: 1.6; }
        
        .footer { background: #2c3e50; color: #fff; text-align: center; padding: 20px; margin-top: 50px; }
        
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        @media (max-width: 768px) {
            .form-row { grid-template-columns: 1fr; }
            .content { padding: 0 10px; }
            .header { padding: 10px 20px; flex-direction: column; gap: 20px; }
            .main-title { font-size: 1.8em; }
        }
    </style>
</head>
<body>
    <div class="header">
    <div class="logo"><img src="/static/images/shakthi_logo.png" alt="SHAKTHI Logo"></div>
        <div class="main-title">AP Police Women & Child Safety Wing</div>
    <div class="logo"><img src="/static/images/ap_police_logo.png" alt="AP Police Logo"></div>
    </div>
    
    <div class="navbar">
        <div class="nav-menu">
            <a href="/">Home</a>
            <a href="/about">About Us</a>
            <a href="/initiatives">Initiatives</a>
            <a href="/volunteer-registration" class="active">Volunteer</a>
            <a href="/safety-tips">Safety Tips</a>
            <a href="/pdf-resources">PDF Resources</a>
            <a href="/contact">Contact Us</a>
            <a href="/gallery">Media & Events</a>
            <a href="/admin-login">Admin Login</a>
        </div>
    </div>
    
    <div class="content">
        <h1 class="page-title">Volunteer Registration</h1>
        <div class="breadcrumb">
            <a href="/">Home</a> / Volunteer Registration
        </div>
        
        {% if get_flashed_messages() %}
            {% for message in get_flashed_messages() %}
                <div class="success-message">
                    <i class="fas fa-check-circle"></i>
                    <h3>Registration Successful!</h3>
                    <p>{{ message }}</p>
                </div>
            {% endfor %}
        {% endif %}
        
        <div class="requirements">
            <h3><i class="fas fa-info-circle"></i> Volunteer Requirements</h3>
            <ul>
                <li>Must be 18 years or older</li>
                <li>Phone number must not start with 0</li>
                <li>Phone number must be exactly 10 digits</li>
                <li>Commitment to women's safety and empowerment</li>
                <li>Basic communication skills in local languages</li>
                <li>Willingness to undergo background verification</li>
                <li>Available for training and regular activities</li>
            </ul>
        </div>
        
        <div class="form-container">
            <div class="form-intro">
                <h2>Join Our Mission</h2>
                <p>Be part of the change by volunteering with AP Women Safety Wing. Help us create a safer environment for women across Andhra Pradesh.</p>
            </div>
            
            <form method="POST" action="/volunteer-registration">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="name">
                            <i class="fas fa-user"></i> Full Name *
                        </label>
                        <input type="text" id="name" name="name" class="form-input" required
                               pattern="[A-Za-z\s]{3,}"
                               title="Name should only contain letters and spaces"
                               value="{{ form_data.name if form_data else '' }}">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">
                            <i class="fas fa-envelope"></i> Email Address *
                        </label>
                        <input type="email" id="email" name="email" class="form-input" required
                               value="{{ form_data.email if form_data else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="phone">
                            <i class="fas fa-phone"></i> Phone Number *
                        </label>
                        <input type="tel" id="phone" name="phone" class="form-input" required
                               pattern="[1-9][0-9]{9}"
                               maxlength="10"
                               title="Phone number must be 10 digits and cannot start with 0"
                               value="{{ form_data.phone if form_data else '' }}"
                               title="Phone number must be exactly 10 digits and cannot start with 0">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="age">
                            <i class="fas fa-calendar"></i> Age *
                        </label>
                        <input type="number" id="age" name="age" class="form-input" required
                               min="18" max="65"
                               value="{{ form_data.age if form_data else '' }}"
                               title="Age must be between 18 and 65">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="address">
                        <i class="fas fa-map-marker-alt"></i> Address *
                    </label>
                    <textarea id="address" name="address" class="form-textarea" required 
                              placeholder="Enter your complete address including district"
                              minlength="10">{{ form_data.address if form_data else '' }}</textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="occupation">
                            <i class="fas fa-briefcase"></i> Occupation *
                        </label>
                        <input type="text" id="occupation" name="occupation" class="form-input" required
                               value="{{ form_data.occupation if form_data else '' }}"
                               placeholder="Your current profession">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="education">
                            <i class="fas fa-graduation-cap"></i> Education *
                        </label>
                        <input type="text" id="education" name="education" class="form-input" required
                               value="{{ form_data.education if form_data else '' }}"
                               placeholder="Your highest education qualification">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="experience">
                        <i class="fas fa-star"></i> Previous Volunteer Experience
                    </label>
                    <textarea id="experience" name="experience" class="form-textarea" 
                              placeholder="Describe any previous volunteer work or social service experience">{{ form_data.experience if form_data else '' }}</textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="motivation">
                        <i class="fas fa-heart"></i> Why do you want to volunteer with us? *
                    </label>
                    <textarea id="motivation" name="motivation" class="form-textarea" required
                              minlength="30"
                              placeholder="Tell us what motivates you to work for women's safety (minimum 30 characters)">{{ form_data.motivation if form_data else '' }}</textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="availability">
                            <i class="fas fa-clock"></i> Availability
                        </label>
                        <select id="availability" name="availability" class="form-select">
                            <option value="">Select your availability</option>
                            <option value="weekdays">Weekdays</option>
                            <option value="weekends">Weekends</option>
                            <option value="both">Both Weekdays & Weekends</option>
                            <option value="flexible">Flexible</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="skills">
                            <i class="fas fa-tools"></i> Special Skills
                        </label>
                        <input type="text" id="skills" name="skills" class="form-input" placeholder="Languages, technical skills, etc.">
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Submit Application
                </button>
            </form>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2025 AP Police Women and Child Safety Wing. All rights reserved.</p>
        <p>Emergency Helpline: 181 | Email: womensafety@appolice.gov.in</p>
    </div>
    
    <script src="/static/chatbot.js"></script>
    <script>
        function showError(input, message) {
            // Remove any existing error
            removeError(input);
            
            // Create and show new error
            const error = document.createElement('div');
            error.id = input.id + '-error';
            error.className = 'error-message';
            error.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
            input.parentNode.appendChild(error);
            input.style.borderColor = '#dc3545';
        }

        function removeError(input) {
            const errorDiv = document.getElementById(input.id + '-error');
            if (errorDiv) {
                errorDiv.remove();
            }
            input.style.borderColor = '#e0e0e0';
        }

        function validateName(input) {
            removeError(input);
            const name = input.value.trim();
            
            if (name.length < 3) {
                showError(input, 'Name must be at least 3 characters');
                return false;
            }
            if (!/^[a-zA-Z\s]+$/.test(name)) {
                showError(input, 'Name should only contain letters and spaces');
                return false;
            }
            return true;
        }

        function validateEmail(input) {
            removeError(input);
            const email = input.value.trim();
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showError(input, 'Please enter a valid email address');
                return false;
            }
            return true;
        }

        function validatePhone(input) {
            removeError(input);
            const phone = input.value.trim();
            
            if (phone.startsWith('0')) {
                showError(input, 'Phone number cannot start with 0');
                return false;
            }
            if (!/^\d{10}$/.test(phone)) {
                showError(input, 'Phone number must be exactly 10 digits');
                return false;
            }
            if (new Set(phone.split('')).size === 1) {
                showError(input, 'Phone number cannot be all same digits');
                return false;
            }
            return true;
        }

        function validateAge(input) {
            removeError(input);
            const age = parseInt(input.value);
            
            if (isNaN(age) || age < 18) {
                showError(input, 'You must be at least 18 years old');
                return false;
            }
            if (age > 65) {
                showError(input, 'Age must be 65 or below');
                return false;
            }
            return true;
        }

        function validateAddress(input) {
            removeError(input);
            const address = input.value.trim();
            
            if (address.length < 10) {
                showError(input, 'Please enter your complete address (minimum 10 characters)');
                return false;
            }
            return true;
        }

        function validateEducation(input) {
            removeError(input);
            const education = input.value.trim();
            
            if (education.length < 5) {
                showError(input, 'Please provide complete education details');
                return false;
            }
            return true;
        }

        function validateMotivation(input) {
            removeError(input);
            const motivation = input.value.trim();
            
            if (motivation.length < 30) {
                showError(input, 'Please provide more details about your motivation (minimum 30 characters)');
                return false;
            }
            return true;
        }

        function validateAvailability(input) {
            removeError(input);
            const availability = input.value.trim();
            
            if (availability.length < 5) {
                showError(input, 'Please provide more details about your availability');
                return false;
            }
            return true;
        }

        function validateSkills(input) {
            removeError(input);
            const skills = input.value.trim();
            
            if (skills.length < 5) {
                showError(input, 'Please provide more details about your skills');
                return false;
            }
            return true;
        }

        function validateForm(event) {
            let isValid = true;
            
            isValid = validateName(document.getElementById('name')) && isValid;
            isValid = validateEmail(document.getElementById('email')) && isValid;
            isValid = validatePhone(document.getElementById('phone')) && isValid;
            isValid = validateAge(document.getElementById('age')) && isValid;
            isValid = validateAddress(document.getElementById('address')) && isValid;
            isValid = validateEducation(document.getElementById('education')) && isValid;
            isValid = validateMotivation(document.getElementById('motivation')) && isValid;
            isValid = validateAvailability(document.getElementById('availability')) && isValid;
            isValid = validateSkills(document.getElementById('skills')) && isValid;
            
            if (!isValid) {
                event.preventDefault();
            }
            return isValid;
        }

        // Add input event listeners for real-time validation
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('name').addEventListener('input', function() { validateName(this); });
            document.getElementById('email').addEventListener('input', function() { validateEmail(this); });
            document.getElementById('phone').addEventListener('input', function() { validatePhone(this); });
            document.getElementById('age').addEventListener('input', function() { validateAge(this); });
            document.getElementById('address').addEventListener('input', function() { validateAddress(this); });
            document.getElementById('education').addEventListener('input', function() { validateEducation(this); });
            document.getElementById('motivation').addEventListener('input', function() { validateMotivation(this); });
            document.getElementById('availability').addEventListener('input', function() { validateAvailability(this); });
            document.getElementById('skills').addEventListener('input', function() { validateSkills(this); });
            
            // Add form submit validation
            document.querySelector('form').addEventListener('submit', validateForm);
        });
    </script>
    </body>
</html>
